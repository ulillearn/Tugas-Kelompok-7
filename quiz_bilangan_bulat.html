<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz: Bilangan Bulat</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Poppins:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="header-placeholder"></div>

    <main class="container">
      <div class="card lkpd">
        <h2>ðŸ§Š Quiz: Bilangan Bulat</h2>
        <p style="font-style: italic; margin-bottom: 20px">
          Pilih jawaban yang paling tepat untuk setiap soal di bawah ini. Klik
          "Selesaikan Quiz" di bagian akhir untuk melihat hasilmu!
        </p>

        <form id="quiz-form-bulat">
          <div class="quiz-item">
            <p class="soal">1. Hasil dari âˆ’5 + 8 = â€¦</p>
            <ul class="quiz-options">
              <li>
                <input type="radio" name="q1" id="q1a" value="a" /><label
                  for="q1a"
                  >A. -13</label
                >
              </li>
              <li>
                <input type="radio" name="q1" id="q1b" value="b" /><label
                  for="q1b"
                  >B. 3</label
                >
              </li>
              <li>
                <input type="radio" name="q1" id="q1c" value="c" /><label
                  for="q1c"
                  >C. -3</label
                >
              </li>
              <li>
                <input type="radio" name="q1" id="q1d" value="d" /><label
                  for="q1d"
                  >D. 13</label
                >
              </li>
            </ul>
            <div class="feedback-box" id="feedback-1"></div>
          </div>

          <div class="quiz-item">
            <p class="soal">2. Hasil dari 6 âˆ’ (âˆ’4) = â€¦</p>
            <ul class="quiz-options">
              <li>
                <input type="radio" name="q2" id="q2a" value="a" /><label
                  for="q2a"
                  >A. 2</label
                >
              </li>
              <li>
                <input type="radio" name="q2" id="q2b" value="b" /><label
                  for="q2b"
                  >B. -10</label
                >
              </li>
              <li>
                <input type="radio" name="q2" id="q2c" value="c" /><label
                  for="q2c"
                  >C. 10</label
                >
              </li>
              <li>
                <input type="radio" name="q2" id="q2d" value="d" /><label
                  for="q2d"
                  >D. -2</label
                >
              </li>
            </ul>
            <div class="feedback-box" id="feedback-2"></div>
          </div>

          <div class="quiz-item">
            <p class="soal">3. Hasil dari âˆ’7 + (âˆ’3) = â€¦</p>
            <ul class="quiz-options">
              <li>
                <input type="radio" name="q3" id="q3a" value="a" /><label
                  for="q3a"
                  >A. -10</label
                >
              </li>
              <li>
                <input type="radio" name="q3" id="q3b" value="b" /><label
                  for="q3b"
                  >B. 10</label
                >
              </li>
              <li>
                <input type="radio" name="q3" id="q3c" value="c" /><label
                  for="q3c"
                  >C. 4</label
                >
              </li>
              <li>
                <input type="radio" name="q3" id="q3d" value="d" /><label
                  for="q3d"
                  >D. -4</label
                >
              </li>
            </ul>
            <div class="feedback-box" id="feedback-3"></div>
          </div>

          <div class="quiz-item">
            <p class="soal">4. Hasil dari âˆ’12 âˆ’ (âˆ’5) = â€¦</p>
            <ul class="quiz-options">
              <li>
                <input type="radio" name="q4" id="q4a" value="a" /><label
                  for="q4a"
                  >A. -17</label
                >
              </li>
              <li>
                <input type="radio" name="q4" id="q4b" value="b" /><label
                  for="q4b"
                  >B. -7</label
                >
              </li>
              <li>
                <input type="radio" name="q4" id="q4c" value="c" /><label
                  for="q4c"
                  >C. 7</label
                >
              </li>
              <li>
                <input type="radio" name="q4" id="q4d" value="d" /><label
                  for="q4d"
                  >D. 17</label
                >
              </li>
            </ul>
            <div class="feedback-box" id="feedback-4"></div>
          </div>

          <div class="quiz-item">
            <p class="soal">
              5. Jika suhu pagi hari -3Â°C dan sore hari 5Â°C, maka kenaikan suhu
              adalah â€¦
            </p>
            <ul class="quiz-options">
              <li>
                <input type="radio" name="q5" id="q5a" value="a" /><label
                  for="q5a"
                  >A. 2Â°C</label
                >
              </li>
              <li>
                <input type="radio" name="q5" id="q5b" value="b" /><label
                  for="q5b"
                  >B. 5Â°C</label
                >
              </li>
              <li>
                <input type="radio" name="q5" id="q5c" value="c" /><label
                  for="q5c"
                  >C. 7Â°C</label
                >
              </li>
              <li>
                <input type="radio" name="q5" id="q5d" value="d" /><label
                  for="q5d"
                  >D. 8Â°C</label
                >
              </li>
            </ul>
            <div class="feedback-box" id="feedback-5"></div>
          </div>

          <button type="submit" class="quiz-btn" id="submit-quiz-btn">
            Selesaikan Quiz
          </button>

          <div id="skor-total-container" style="display: none"></div>
        </form>
      </div>
    </main>

    <footer class="footer-utama">
      <p>Kelompok 7 - Pengembangan Matematika SD | 2025</p>
    </footer>

    <script src="script.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Kunci Jawaban
        const correctAnswers = {
          q1: "b", // -5 + 8 = 3
          q2: "c", // 6 - (-4) = 6 + 4 = 10
          q3: "a", // -7 + (-3) = -10
          q4: "b", // -12 - (-5) = -12 + 5 = -7
          q5: "d", // Kenaikan = Suhu Akhir - Suhu Awal = 5 - (-3) = 5 + 3 = 8
        };

        const quizForm = document.getElementById("quiz-form-bulat");
        const submitButton = document.getElementById("submit-quiz-btn");
        const scoreContainer = document.getElementById("skor-total-container");

        quizForm.addEventListener("submit", function (e) {
          // Mencegah halaman reload
          e.preventDefault();

          const totalQuestions = 5;
          let allAnswered = true;

          // --- BLOK VALIDASI BARU ---
          // Pertama, cek apakah semua sudah dijawab
          for (let i = 1; i <= totalQuestions; i++) {
            const qName = "q" + i;
            const selectedOption = quizForm.querySelector(
              'input[name="' + qName + '"]:checked'
            );
            if (!selectedOption) {
              allAnswered = false;
              break; // Hentikan loop jika satu saja belum dijawab
            }
          }

          // Jika ada yang belum dijawab, tampilkan alert dan hentikan fungsi
          if (!allAnswered) {
            alert(
              "Oops, sepertinya Anda belum menjawab semua soal. Silakan periksa kembali!"
            );
            return; // Hentikan fungsi di sini
          }
          // --- AKHIR BLOK VALIDASI ---

          // --- Jika lolos validasi, lanjutkan pengecekan skor ---
          let score = 0;

          // Loop untuk setiap soal (untuk menilai)
          for (let i = 1; i <= totalQuestions; i++) {
            const qName = "q" + i;
            const feedbackBox = document.getElementById("feedback-" + i);
            const selectedOption = quizForm.querySelector(
              'input[name="' + qName + '"]:checked'
            );
            const userAnswer = selectedOption.value; // Kita tahu ini ada karena sudah lolos validasi
            const correctAnswerValue = correctAnswers[qName];
            const correctLabel = document.querySelector(
              'label[for="q' + i + correctAnswerValue + '"]'
            ).textContent;

            if (userAnswer === correctAnswerValue) {
              // Jawaban Benar
              score++;
              feedbackBox.textContent = "Jawaban Anda benar! ðŸ‘";
              feedbackBox.className = "feedback-box correct";
            } else {
              // Jawaban Salah
              feedbackBox.textContent =
                "Jawaban Anda salah. Yang benar adalah: " + correctLabel;
              feedbackBox.className = "feedback-box incorrect";
            }
            feedbackBox.style.display = "block";
          }

          // Tampilkan skor total
          scoreContainer.textContent =
            "Skor Akhir Anda: " + score + " dari " + totalQuestions + " benar.";
          scoreContainer.className = "skor-total"; // Gunakan style dari style.css
          scoreContainer.style.display = "block";

          // Sembunyikan tombol 'Selesaikan'
          submitButton.style.display = "none";
        });
      });
    </script>
  </body>
</html>
